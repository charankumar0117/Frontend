<div class="container-fluid vh-100">
  <div class="row h-100">
    <!-- Left Panel -->
    <div class="col-md-4 bg-white border-end p-0">
      <div
        class="d-flex justify-content-between align-items-center p-3 bg-light border-bottom"
      >
        <strong>Courses</strong>
        <button
          class="btn btn-sm btn-outline-primary"
          (click)="showAddCourse = true; selectedCourse = null"
        >
          + Add Course
        </button>
      </div>

      <div class="scrollable-left px-3 py-2">
        @if(courses?.length || 0){
        <ng-container>
          <app-course-list
            [courses]="courses"
            (selectCourse)="onCourseSelected($event)"
          >
          </app-course-list>
        </ng-container>
      }
      @else{
        <ng-template #noCourses>
          <div class="text-center text-muted">No courses added</div>
        </ng-template>
      }
      </div>
    </div>

    <!-- Right Panel -->
    <div class="col-md-8 bg-white p-0">
      <div class="p-3 border-bottom bg-light fw-bold">
        {{ showAddCourse ? "Add New Course" : "Details" }}
      </div>
      <div class="p-4">
        @if(!showAddCourse && selectedCourse){
        <ng-container>
          <app-course-detail
            [course]="selectedCourse"
            (deleteCourse)="onCourseDeleted($event)"
            (addAssignmentClick)="onAddAssignmentClicked($event)"
          >
          </app-course-detail>
          @if(selectedCourse && showAddAssignment){
          <app-add-assignment
            [courseId]="selectedCourse.courseId"
          >
          </app-add-assignment>
        }
        </ng-container>
      }

        @if(showAddCourse){
        <ng-container>
          <app-add-course
            (courseAdded)="onCourseAdded($event)"
            (cancelAdd)="cancelAddCourse()"
          >
          </app-add-course>
        </ng-container>
      }
      </div>
    </div>
  </div>
</div>
